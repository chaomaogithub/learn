<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        img {
            height: 720px;
            width: 1280px;
        }
    </style>
</head>
<body>
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2015/09/09/16/05/forest-931706_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2014/08/01/00/08/pier-407252_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2014/12/15/17/16/pier-569314_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2010/12/13/10/09/abstract-2384_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2015/10/24/11/09/drop-of-water-1004250_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2015/09/09/16/05/forest-931706_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2014/08/01/00/08/pier-407252_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2014/12/15/17/16/pier-569314_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2010/12/13/10/09/abstract-2384_1280.jpg" alt="">
    <img src="loading.gif" data-src="https://cdn.pixabay.com/photo/2015/10/24/11/09/drop-of-water-1004250_1280.jpg" alt="">

    <script>
        var img = document.getElementsByTagName('img')
        var n = 0

        lazyLoad()

        function throttle(event, time) {
            let timer = null

            return function (...args) {
                if (!timer) {
                    timer = setTimeout(()=> {
                        timer = null
                        event.apply(this, args)
                    }, time)
                }
            }
        }

        window.addEventListener('scroll', throttle(lazyLoad, 200))

        function lazyLoad() {
            var seeHeight = window.innerHeight
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop

            for (var i = 0; i < img.length; i++) {
                console.log(img[i].offsetTop, seeHeight, scrollTop)
                if (img[i].offsetTop < seeHeight + scrollTop) {
                    if (img[i].getAttribute('src') === 'loading.gif') {
                        img[i].src = img[i].getAttribute('data-src')
                    }
                    n = i + 1
                }
            }
        }
    </script>
</body>
</html>